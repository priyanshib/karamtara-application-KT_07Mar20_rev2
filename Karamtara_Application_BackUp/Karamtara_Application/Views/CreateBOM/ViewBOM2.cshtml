@model Karamtara_Application.Models.CreateBOMModel
@{
    ViewBag.Title = "ViewBOM";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="Catgdetails tableBlock" id="divProdEdit">
    <div class="row">
        <table class="table prodDetails" id="prodTbl2">
            <tr>
                <td colspan="8"></td>
            </tr>
            <tr>
                <th class="srNo">Sr.No</th>
                <th class="catNo">Catalogue No</th>
                <th class="productNm">Item Name</th>
                <th class="rawMater">Raw Material</th>
                <th class="prodNo">Size</th>
                <th class="prodNo">Quantity</th>
                <th class="prodNo">Unit Gross Weight</th>
                <th class="prodNo">Unit Net Weight</th>
            </tr>
            @foreach (var x in Model.BomMasterList)
            {
                if (x.Type.Equals("1"))
                {
                    { int foreachCount = 1; }

                    foreach (var assm in Model.AssemblyList.Where(x.ProductId == assm.ToList())
                    {
                        <tr>
                            <td><input type="text" readonly="readonly" class="prods bold" name="srno" /></td>
                            <td><input type="text" value="@assm.AssemblyCode" readonly="readonly" class="prods bold" name="editCatNo" /></td>
                            <td><input type="text" value="@assm.AssemblyName" readonly="readonly" class="prods bold" name="editProdName" /></td>
                            <td><input type="text" value="" readonly="readonly" class="prods bold" name="editRM"></td>
                            <td><input type="text" value="" readonly="readonly" class="prods bold" name="Size"></td>
                            <td><input type="text" value="" readonly="readonly" class="prods bold" name="editQty" /></td>
                            <td><input type="text" value="@assm.UnitGrWt" readonly="readonly" class="prods bold" name="editUnitGr" /></td>
                            <td><input type="text" value="@assm.UnitNetWt" readonly="readonly" class="prods bold" name="editUnitNet" /></td>
                        </tr>
                        int charCount = 65;
                        foreach (var sub in Model.SubAssemblyList.Where(x => x.AssemblyId == assm.AssemblyId).ToList())
                        {
                            <tr>
                                <td><input type="text" readonly="readonly" class="prods" name="srno" value='@((char)charCount).' /></td>
                                <td><input type="text" value="@sub.CatalogueNo" readonly="readonly" class="prods" name="editCatNo" /></td>
                                <td><input type="text" value="@sub.SubAssmTechName" readonly="readonly" class="prods" name="editProdName" /></td>
                                <td><input type="text" value="" readonly="readonly" class="prods" name="editRM"></td>
                                <td><input type="text" value="" readonly="readonly" class="prods" name="editRM"></td>
                                <td><input type="text" value="@sub.Quantity" readonly="readonly" class="prods" name="editQty" /></td>
                                <td><input type="text" value="" readonly="readonly" class="prods" name="editUnitGr" /></td>
                                <td><input type="text" value="" readonly="readonly" class="prods" name="editUnitNet" /></td>
                            </tr>
                            charCount++;
                            foreach (var prod in Model.ProductList.Where(x => x.SubAssemblyId == sub.SubAssemblyId).ToList())
                            {
                                <tr>
                                    <td><input type="text" readonly="readonly" class="prods" name="srno" value="" /></td>
                                    <td><input type="text" value="@prod.CatalogueNo" readonly="readonly" class="prods" name="editCatNo" /></td>
                                    <td><input type="text" value="@prod.ProductName" readonly="readonly" class="prods" name="editProdName" /></td>
                                    <td><input type="text" value="@prod.RawMaterial" readonly="readonly" class="prods" name="editRM"></td>
                                    <td><input type="text" value="@prod.RawMaterial" readonly="readonly" class="prods" name="editRM"></td>
                                    <td><input type="text" value="@prod.Quantity" readonly="readonly" class="prods" name="editQty" /></td>
                                    <td><input type="text" value="@(prod.UnitGrWt == 0 ?  prod.UnitGrWt.ToString("#.##") : prod.UnitGrWt.ToString("G29"))" readonly="readonly" class="prods" name="editUnitGr" /></td>
                                    <td><input type="text" value="@(prod.UnitNetWt == 0 ?  prod.UnitNetWt.ToString("#.##") : prod.UnitNetWt.ToString("G29"))" readonly="readonly" class="prods" name="editUnitNet" /></td>
                                </tr>

                                foreach (var subProd in Model.SubProductList.Where(x => x.ProductId == prod.ProductId).ToList())
                                {
                                    <tr>
                                        <td><input type="text" readonly="readonly" class="prods" name="srno" /></td>
                                        <td><input type="text" value="@subProd.CatalogueNo" readonly="readonly" class="prods" name="editCatNo" /></td>
                                        <td><input type="text" value="@subProd.ComponentName" readonly="readonly" class="prods" name="editProdName" /></td>
                                        <td><input type="text" value="@subProd.RawMaterial" readonly="readonly" class="prods" name="editRM"></td>
                                        <td><input type="text" value="@subProd.RawMaterial" readonly="readonly" class="prods" name="editRM"></td>
                                        <td><input type="text" value="@subProd.Qty" readonly="readonly" class="prods" name="editQty" /></td>
                                        <td><input type="text" value="@(subProd.UnitGrWt == 0 ?  subProd.UnitGrWt.ToString("#.##") : subProd.UnitGrWt.ToString("G29"))" readonly="readonly" class="prods" name="editUnitGr" /></td>
                                        <td><input type="text" value="@(subProd.UnitNetWt == 0 ?  subProd.UnitNetWt.ToString("#.##") : subProd.UnitNetWt.ToString("G29"))" readonly="readonly" class="prods" name="editUnitNet" /></td>
                                    </tr>
                                }
                            }
                        }
                    }

                }
                else if (x.Type.Equals("2"))
                {

                }
            }


        </table>
        @*<div class="saveProddtls">
                <button type="button" class="submitBomBtn saveBtn" id="btnProdsEdit">Edit</button>
                @*<button type="button" class="submitBomBtn publishBtn" id="btnProdSave">Save </button>
            </div>*@
    </div>
</div>



